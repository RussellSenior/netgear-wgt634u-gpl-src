# -*- Makefile -*-
# Automagically generated by configure

# prefix & paths
prefix=/usr/local
exec_prefix=${prefix}
bindir=${exec_prefix}/bin
sbindir=${exec_prefix}/sbin
sysconfdir=/etc
localstatedir=/var/run
rundir=/var/run/proftpd
mandir=${prefix}/man

PLATFORM=-DLINUX 
LDFLAGS=-Llib 
LIBS=-lsupp -lcrypt  

# Use DEFAULT_PATHS to override the defaults calculated by configure.
#
# DEFAULT_PATHS=-DCONFIG_FILE_PATH=\"$(sysconfdir)/proftpd.conf\" -DPID_FILE_PATH=\"$(localstatedir)/proftpd.pid\" -DRUN_DIR=\"$(rundir)\"

# Use the following compilation flags are valid:
#
# -DUSESHADOW
#    Use the shadow password suite.
# -DAUTOSHADOW
#    Enable support for automatic run-time shadow detection.
#    NOT recommended except for binary distributions, use
#    configure --enable-autoshadow to force this on.
# -DDEBUG_NOFORK
#    Server in standalone mode will not fork for incoming connections.
# -DDEBUG_NOSIG
#    Server will not catch signals that cause termination.

# Directory include paths.
#
INCLUDES=-I.. -I$(top_srcdir)/include 

# Preprocessor compilation flags.
#
CPPFLAGS= $(DEFAULT_PATHS) $(PLATFORM) $(INCLUDES)

# Our compiler flags.
#
CFLAGS=-O2 -Wall -DUSESHADOW

# Defines for memory testing and debugging.
#CFLAGS=-g3 -DDEBUG_NOFORK -DDEBUG_MEMORY
#LIBS=$(LIBS) -lefence

# These are only useful for debugging, or for the really masochistic.
# Defines for debugging only.
#CFLAGS=-g -DUSESHADOW -DDEBUG_NOFORK

# This set of definitions is for testing our conformance to ANSI C.  We don't
# normally do this because many systems have non-ANSI compliant header files,
# and things get noisy.
#CFLAGS=-g -pedantic -DUSESHADOW -DDEBUG_NOFORK

OBJS=main.o timers.o sets.o pool.o dirtree.o support.o inet.o log.o \
     io.o ident.o data.o modules.o auth.o fs.o
BUILD_OBJS=src/main.o src/timers.o src/sets.o src/pool.o src/dirtree.o \
           src/support.o src/inet.o src/log.o src/io.o src/ident.o \
           src/data.o src/modules.o src/auth.o src/fs.o

LIB_OBJS=getopt.o getopt1.o pr_fnmatch.o strsep.o vsnprintf.o glibc-glob.o pwgrent.o

FTPCOUNT_OBJS=ftpcount.o pool.o log.o utils.o
BUILD_FTPCOUNT_OBJS=src/ftpcount.o src/pool.o src/log.o src/utils.o

FTPWHO_OBJS=ftpwho.o pool.o log.o utils.o
BUILD_FTPWHO_OBJS=src/ftpwho.o src/pool.o src/log.o src/utils.o

FTPSHUT_OBJS=ftpshut.o
BUILD_FTPSHUT_OBJS=src/ftpshut.o

DEFINES=$(OPTIONS) $(PLATFORM)
